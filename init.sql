ALTER SESSION SET "_ORACLE_SCRIPT"=true;

CREATE USER CADASTRO IDENTIFIED BY senha123;
GRANT CONNECT, RESOURCE TO CADASTRO;
GRANT UNLIMITED TABLESPACE TO CADASTRO;

BEGIN
    EXECUTE IMMEDIATE '
        CREATE TABLE CADASTRO.PESSOA (
            ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
            NOME VARCHAR2(100),
            EMAIL VARCHAR2(100)
        )
    ';
EXCEPTION
    WHEN OTHERS THEN
        IF SQLCODE != -955 THEN
            RAISE;
        END IF;
END;
/
